/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   party_parrot_dance_floor.c                         :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: lignigno <lignign@student.21-school.ru>    +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2021/03/23 15:51:37 by lignigno          #+#    #+#             */
/*   Updated: 2021/03/24 05:54:34 by lignigno         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <unistd.h>

void			*frame_1(int get_next_frame);
void			*frame_2(int get_next_frame);
void			*frame_3(int get_next_frame);
void			*frame_4(int get_next_frame);
void			*frame_5(int get_next_frame);
void			*frame_6(int get_next_frame);
void			*frame_7(int get_next_frame);
void			*frame_8(int get_next_frame);
void			*frame_9(int get_next_frame);
void			*frame_10(int get_next_frame);
void			*frame_11(int get_next_frame);
void			*frame_12(int get_next_frame);
void			*frame_13(int get_next_frame);
void			*frame_14(int get_next_frame);
void			*frame_15(int get_next_frame);
void			*frame_16(int get_next_frame);
void			*frame_17(int get_next_frame);

void			*frame_1(int get_next_frame)
{
	if (get_next_frame)
		return (frame_2);
	//_________________________________________________________________________________________________________________________
printf("                                                                                                                 \n");
printf("                     _..-----._\n");
printf("                   .'          '		.\n");
printf("                 /              \		\n");
printf("                 |                ;		\n");
printf("                 |                 |\n");
printf("                 \                 |\n");
printf("                  \               ;\n");
printf("            _..----'             /\n");
printf("          .`-. .-'``'-.       .-'\n");
printf("        .'_   `  _     '.    `'.\n");
printf("       /  _`    _ `      \      \     _...._\n");
printf("    _  | /  \  /  \      |       | .-'      `'.\n");
printf("   / \ | | /|  | /|      |       ;'            \ \n");
printf("  |  |_\ \_|/  \_|/      /                      ;\n");
printf("  .\_/  `'-.            /_...._                 |\n");
printf(" /          `                  `\               |\n");
printf(" |                        __     |             /\n");
printf("  \                       / `   //'.         .'\n");
printf("   '._                  .'     .'   `'-...-'`\n");
printf("      `\"'-.,__    ___.-'    .-' \n");
printf("          `-._````  __..--'` \n");
printf("              ``````\n");
	return(NULL);
}

void			*frame_2(int get_next_frame)
{
	if (get_next_frame)
		return (frame_3);
	//_________________________________________________________________________________________________________________________
printf("                                                                                                                 \n");
printf("                     _..-----._\n");
printf("                   .'          '		.\n");
printf("                 /              \		\n");
printf("                 |                ;		\n");
printf("                 |                 |\n");
printf("                 \                 |\n");
printf("                  \               ;\n");
printf("            _..----'             /\n");
printf("          .`-. .-'``'-.       .-'\n");
printf("        .'_   `  _     '.    `'.\n");
printf("       /  _`    _ `      \      \     _...._\n");
printf("    _  | /  \  /  \      |       | .-'      `'.\n");
printf("   / \ | | /|  | /|      |       ;'            \ \n");
printf("  |  |_\ \_|/  \_|/      /                      ;\n");
printf("  .\_/  `'-.            /_...._                 |\n");
printf(" /          `                  `\               |\n");
printf(" |                        __     |             /\n");
printf("  \                       / `   //'.         .'\n");
printf("   '._                  .'     .'   `'-...-'`\n");
printf("      `\"'-.,__    ___.-'    .-' \n");
printf("          `-._````  __..--'` \n");
printf("              ``````\n");
	return(NULL);
}

void			*frame_3(int get_next_frame)
{
	if (get_next_frame)
		return (frame_4);
	//_________________________________________________________________________________________________________________________

printf("\n");
printf("            _      _                                               \n");
printf("  _ __ ___ (_) ___| | _____ _   _   _ __ ___   ___  _   _ ___  ___ \n");
printf(" | '_ ` _ \| |/ __| |/ / _ \ | | | | '_ ` _ \ / _ \| | | / __|/ _ \ \n");
printf(" | | | | | | | (__|   <  __/ |_| | | | | | | | (_) | |_| \__ \  __/\n");
printf(" |_| |_| |_|_|\___|_|\_\___|\__, | |_| |_| |_|\___/ \__,_|___/\___|\n");
printf("                            |___/                              \n");    
	return(NULL);
}


void			*frame_4(int get_next_frame)
{
	if (get_next_frame)
		return (frame_5);
	//_________________________________________________________________________________________________________________________ 
printf("         .-----.\n");
printf("        /       \ \n");
printf("        \       /	\n");
printf(" .-----.-`.-.-.<  _	\n");
printf("/      _,-\ ()()_/:)	\n");
printf("\     / ,  `     `|	\n");
printf(" '-..-| \-.,___,  /	\n");
printf("      \ `-.__/  /	\n");
printf("   jgs   `-.__.-'`	\n");
	return(NULL);
}

void			*frame_5(int get_next_frame)
{
	if (get_next_frame)
		return (frame_6);
	//_________________________________________________________________________________________________________________________
printf("   .---.         .---.	\n");
printf("  /     \ _____ /     \	\n");
printf("  \      `     `      /	\n");
printf("   `--/,'^^'.'^^',\--` 	\n");
printf("     || /^\   /^\ |\	\n");
printf("     |\ |0| _ |0| /|	\n");
printf("     \_\`~`.-.`~`/_/	\n");
printf("     /     '-'     \	\n");
printf("     \  `-,...,-`  /	\n");
printf(" jgs  '-._ \^/ _.-'	\n");
	return(NULL);
}

void			*frame_6(int get_next_frame)
{
	if (get_next_frame)
		return (frame_7);
	//_________________________________________________________________________________________________________________________
printf("            .---''                         .---.	\n");
printf("           "     "--.                 (((("     "	\n");
printf("            '.. ( ()()_O            O_()() ) ..'	\n");
printf("         .-'-./( \_____)            (_____/ )\.-'-.	\n");
printf("        '     \_______/              \_______/     '	\n");
printf("         '...'___|__\____           ___/  |__ '...''	\n");
printf("            /\__||__||__/\         /\_ \__/ _/\	\n");
printf("            \\ /_    _\ //         \\/      \//	\n");
printf("           _/_)(_)  (_)(_\_       _/_)//////(_\_	\n");
printf("               \__/\__/           (_(_(_()_)_)_)	\n");
printf("                //  \\               (__)(__)	\n");
printf("             .-.\\  //.-.          .-.||  ||.-.	\n");
printf(" -Dana'97-  (_____)(_____)        (____)  (____)	\n");
	return(NULL);
}

void			*frame_7(int get_next_frame)
{
	if (get_next_frame)
		return (frame_8);
	//_________________________________________________________________________________________________________________________
printf("             .-\"\"\"-.	\n");
printf("            /       \	\n");
printf("            \       /	\n");
printf("     .-\"\"\"-.-`.-.-.<  _	\n");
printf("    /      _,-\ ()()_/:)	\n");
printf("    \     / ,  `     `|	\n");
printf("     '-..-| \-.,___,  /	\n");
printf("           \ `-.__/  /	\n");
printf("      jgs / `-.__.-\`	\n");
printf("         / /|    ___\	\n");
printf("        ( ( |.-\"`   `'\	\n");
printf("         \ \/    {}{}  |	\n");
printf("          \|           /	\n");
printf("           \        , /	\n");
printf("           ( __`;-;'__`)	\n");
printf("           `//'`   `||`	\n");
printf("          _//       ||	\n");
printf("  .-\"-._,(__)     .(__).-""-.	\n");
printf(" /          \    /           \	\n");
printf(" \          /    \           /	\n");
printf("  `'-------`      `--------'`	\n");
	return(NULL);
}


void			*frame_8(int get_next_frame)
{
	if (get_next_frame)
		return (frame_9);
	//_________________________________________________________________________________________________________________________
printf("           	.-\"\"\"-.	\n");
printf("             /       \	\n");
printf("             \       /	\n");
printf("      .-----.-`.-.-.<  _	\n");
printf("     /      _,-\ O_O-_/ )  ~champagne, monsieur?	\n");
printf("     \     / ,  `   . `|	\n");
printf("      '-..-| \-.,__~ ~ /          .,	\n");
printf("            \ `-.__/  /          /\"/	\n");
printf("           / `-.__.-\`-._    ,\",' ;	\n");
printf("          / /|    ___\-._`-.; /  ./-.  	\n");
printf("         ( ( |.-\"`   `'\ '-( /  /|.-' 	\n");
printf("          \ \/    {}{}  |   /-. /.-'	\n");
printf("           \|           /   '..' 	\n");
printf("            \        , /	\n");
printf("            ( __`;-;'__`)	\n");
printf("            `//'`   `||`	\n");
printf(" jgs+/-    _//       ||	\n");
printf("   .-\"-._,(__)     .(__).-""-.	\n");
printf("  /          \    /           \	\n");
printf("  \          /    \           /	\n");
printf("   `'-------`      `--------'`	\n");
	return(NULL);
}

void			*frame_9(int get_next_frame)
{
	if (get_next_frame)
		return (frame_10);
	//_________________________________________________________________________________________________________________________
printf("                     _..-----._	\n");
printf("                   .'          '.	\n");
printf("                  /              \	\n");
printf("                 |                ;	\n");
printf("                 |                 |	\n");
printf("                 \                 |	\n");
printf("                  \               ;	\n");
printf("            _..----'             /	\n");
printf("          .`-. .-'``'-.       .-'	\n");
printf("        .'_   `  _     '.    `'.	\n");
printf("       /  _`    _ `      \      \     _...._	\n");
printf("    _  | /  \  /  \      |       | .-'      `'.	\n");
printf("   / \ | | /|  | /|      |       ;'            \	\n");
printf("  |  |_\ \_|/  \_|/      /                      ;	\n");
printf("  .\_/  `'-.            /_...._                 |	\n");
printf(" /          `                  `\               |	\n");
printf(" |                        __     |             /	\n");
printf("  \                       / `   //'.         .'	\n");
printf("   '._                  .'     .'   `'-...-'`	\n");
printf("      `-'-.,__    ___.-'    .-'	\n");
printf("     jgs  `-._````  __..--'`	\n");
printf("              ``````	\n");
	return(NULL);
}

void			*frame_10(int get_next_frame)
{
	if (get_next_frame)
		return (frame_11);
	//_________________________________________________________________________________________________________________________
printf("                        _____	\n");
printf("                    .d88888888bo.	\n");
printf("                  .d8888888888888b.	\n");
printf("                  8888888888888888b	\n");
printf("                  888888888888888888	\n");
printf("                  888888888888888888	\n");
printf("                   Y8888888888888888	\n");
printf("             ,od888888888888888888P	\n");
printf("          .'`Y8P'```'Y8888888888P'	\n");
printf("        .'_   `  _     'Y88888888b	\n");
printf("       /                 Y88888888b   ____	\n");
printf("    _  |                 8888888888.d888888b.	\n");
printf("   d8b |                 8888888888d8888888888b	\n");
printf("  8888_\ ___   ___      d888888888888888888888b	\n");
printf("  .Y8P  `'-.            d88888888888888888888888	\n");
printf(" /          `          `      `Y8888888888888888	\n");
printf(" |                        __    888888888888888P	\n");
printf("  \                       / `   dPY8888888888P'	\n");
printf("   '._                  .'     .'  `Y888888P`	\n");
printf("      `\"'-.,__    ___.-'    .-'	\n");
printf("     jgs  `-._````  __..--'`	\n");
printf("              ``````	\n");
	return(NULL);
}


void			*frame_11(int get_next_frame)
{
	if (get_next_frame)
		return (frame_12);
	//_________________________________________________________________________________________________________________________
printf("                                                                                                                 \n");
printf("                     _..-----._\n");
printf("                   .'          '		.\n");
printf("                 /              \		\n");
printf("                 |                ;		\n");
printf("                 |                 |\n");
printf("                 \                 |\n");
printf("                  \               ;\n");
printf("            _..----'             /\n");
printf("          .`-. .-'``'-.       .-'\n");
printf("        .'_   `  _     '.    `'.\n");
printf("       /  _`    _ `      \      \     _...._\n");
printf("    _  | /  \  /  \      |       | .-'      `'.\n");
printf("   / \ | | /|  | /|      |       ;'            \ \n");
printf("  |  |_\ \_|/  \_|/      /                      ;\n");
printf("  .\_/  `'-.            /_...._                 |\n");
printf(" /          `                  `\               |\n");
printf(" |                        __     |             /\n");
printf("  \                       / `   //'.         .'\n");
printf("   '._                  .'     .'   `'-...-'`\n");
printf("      `\"'-.,__    ___.-'    .-' \n");
printf("          `-._````  __..--'` \n");
printf("              ``````\n");
	return(NULL);
}

void			*frame_12(int get_next_frame)
{
	if (get_next_frame)
		return (frame_13);
	//_________________________________________________________________________________________________________________________

printf("                        _____	\n");
printf("                    .d88888888bo.	\n");
printf("                  .d8888888888888b.	\n");
printf("                  8888888888888888b	\n");
printf("                  888888888888888888	\n");
printf("                  888888888888888888	\n");
printf("                   Y8888888888888888	\n");
printf("             ,od888888888888888888P	\n");
printf("          .'`Y8P'```'Y8888888888P'	\n");
printf("        .'_   `  _     'Y88888888b	\n");
printf("       /                 Y88888888b   ____	\n");
printf("    _  |                 8888888888.d888888b.	\n");
printf("   d8b |                 8888888888d8888888888b	\n");
printf("  8888_\ ___   ___      d888888888888888888888b	\n");
printf("  .Y8P  `'-.            d88888888888888888888888	\n");
printf(" /          `          `      `Y8888888888888888	\n");
printf(" |                        __    888888888888888P	\n");
printf("  \                       / `   dPY8888888888P'	\n");
printf("   '._                  .'     .'  `Y888888P`	\n");
printf("      `\"'-.,__    ___.-'    .-'	\n");
printf("     jgs  `-._````  __..--'`	\n");
printf("              ``````	\n");
	return(NULL);
}

void			*frame_13(int get_next_frame)
{
	if (get_next_frame)
		return (frame_14);
	//_________________________________________________________________________________________________________________________
	printf("                                                                                                                 \n");
printf("                     _..-----._\n");
printf("                   .'          '		.\n");
printf("                 /              \		\n");
printf("                 |                ;		\n");
printf("                 |                 |\n");
printf("                 \                 |\n");
printf("                  \               ;\n");
printf("            _..----'             /\n");
printf("          .`-. .-'``'-.       .-'\n");
printf("        .'_   `  _     '.    `'.\n");
printf("       /  _`    _ `      \      \     _...._\n");
printf("    _  | /  \  /  \      |       | .-'      `'.\n");
printf("   / \ | | /|  | /|      |       ;'            \ \n");
printf("  |  |_\ \_|/  \_|/      /                      ;\n");
printf("  .\_/  `'-.            /_...._                 |\n");
printf(" /          `                  `\               |\n");
printf(" |                        __     |             /\n");
printf("  \                       / `   //'.         .'\n");
printf("   '._                  .'     .'   `'-...-'`\n");
printf("      `\"'-.,__    ___.-'    .-' \n");
printf("          `-._````  __..--'` \n");
printf("              ``````\n");
	return(NULL);
}

void			*frame_14(int get_next_frame)
{
	if (get_next_frame)
		return (frame_15);
	//_________________________________________________________________________________________________________________________
printf("                        _____	\n");
printf("                    .d88888888bo.	\n");
printf("                  .d8888888888888b.	\n");
printf("                  8888888888888888b	\n");
printf("                  888888888888888888	\n");
printf("                  888888888888888888	\n");
printf("                   Y8888888888888888	\n");
printf("             ,od888888888888888888P	\n");
printf("          .'`Y8P'```'Y8888888888P'	\n");
printf("        .'_   `  _     'Y88888888b	\n");
printf("       /                 Y88888888b   ____	\n");
printf("    _  |                 8888888888.d888888b.	\n");
printf("   d8b |                 8888888888d8888888888b	\n");
printf("  8888_\ ___   ___      d888888888888888888888b	\n");
printf("  .Y8P  `'-.            d88888888888888888888888	\n");
printf(" /          `          `      `Y8888888888888888	\n");
printf(" |                        __    888888888888888P	\n");
printf("  \                       / `   dPY8888888888P'	\n");
printf("   '._                  .'     .'  `Y888888P`	\n");
printf("      `\"'-.,__    ___.-'    .-'	\n");
printf("     jgs  `-._````  __..--'`	\n");
printf("              ``````	\n");
	return(NULL);
}

void			*frame_15(int get_next_frame)
{
	if (get_next_frame)
		return (frame_16);
	//_________________________________________________________________________________________________________________________
printf("                                                                                                                 \n");
printf("                     _..-----._\n");
printf("                   .'          '		.\n");
printf("                 /              \		\n");
printf("                 |                ;		\n");
printf("                 |                 |\n");
printf("                 \                 |\n");
printf("                  \               ;\n");
printf("            _..----'             /\n");
printf("          .`-. .-'``'-.       .-'\n");
printf("        .'_   `  _     '.    `'.\n");
printf("       /  _`    _ `      \      \     _...._\n");
printf("    _  | /  \  /  \      |       | .-'      `'.\n");
printf("   / \ | | /|  | /|      |       ;'            \ \n");
printf("  |  |_\ \_|/  \_|/      /                      ;\n");
printf("  .\_/  `'-.            /_...._                 |\n");
printf(" /          `                  `\               |\n");
printf(" |                        __     |             /\n");
printf("  \                       / `   //'.         .'\n");
printf("   '._                  .'     .'   `'-...-'`\n");
printf("      `\"'-.,__    ___.-'    .-' \n");
printf("          `-._````  __..--'` \n");
printf("              ``````\n");
	return(NULL);
}

void			*frame_16(int get_next_frame)
{
	if (get_next_frame)
		return (frame_17);
	//_________________________________________________________________________________________________________________________
printf("                        _____	\n");
printf("                    .d88888888bo.	\n");
printf("                  .d8888888888888b.	\n");
printf("                  8888888888888888b	\n");
printf("                  888888888888888888	\n");
printf("                  888888888888888888	\n");
printf("                   Y8888888888888888	\n");
printf("             ,od888888888888888888P	\n");
printf("          .'`Y8P'```'Y8888888888P'	\n");
printf("        .'_   `  _     'Y88888888b	\n");
printf("       /                 Y88888888b   ____	\n");
printf("    _  |                 8888888888.d888888b.	\n");
printf("   d8b |                 8888888888d8888888888b	\n");
printf("  8888_\ ___   ___      d888888888888888888888b	\n");
printf("  .Y8P  `'-.            d88888888888888888888888	\n");
printf(" /          `          `      `Y8888888888888888	\n");
printf(" |                        __    888888888888888P	\n");
printf("  \                       / `   dPY8888888888P'	\n");
printf("   '._                  .'     .'  `Y888888P`	\n");
printf("      `\"'-.,__    ___.-'    .-'	\n");
printf("     jgs  `-._````  __..--'`	\n");
printf("              ``````	\n");
	return(NULL);
}

void			*frame_17(int get_next_frame)
{
	if (get_next_frame)
		return (frame_1);
	//_________________________________________________________________________________________________________________________
printf("                                                                                                                 \n");
printf("                     _..-----._\n");
printf("                   .'          '		.\n");
printf("                 /              \		\n");
printf("                 |                ;		\n");
printf("                 |                 |\n");
printf("                 \                 |\n");
printf("                  \               ;\n");
printf("            _..----'             /\n");
printf("          .`-. .-'``'-.       .-'\n");
printf("        .'_   `  _     '.    `'.\n");
printf("       /  _`    _ `      \      \     _...._\n");
printf("    _  | /  \  /  \      |       | .-'      `'.\n");
printf("   / \ | | /|  | /|      |       ;'            \ \n");
printf("  |  |_\ \_|/  \_|/      /                      ;\n");
printf("  .\_/  `'-.            /_...._                 |\n");
printf(" /          `                  `\               |\n");
printf(" |                        __     |             /\n");
printf("  \                       / `   //'.         .'\n");
printf("   '._                  .'     .'   `'-...-'`\n");
printf("      `\"'-.,__    ___.-'    .-' \n");
printf("          `-._````  __..--'` \n");
printf("              ``````\n");

	return(NULL);
}

#define	PRINT 0
#define	GET_NEXT 1
#define SPEED 43
#define R 0
#define G 1
#define B 2
#define SIGN 3
#define CHANGE 4


typedef struct	s_gif
{
	void			*(*frame)(int);
	struct s_gif	*next;
}				t_gif;

/*
** _______________________________________________________________________UTILS
*/

t_gif			*alloc(void)
{
	t_gif		*result;

	result = malloc(sizeof(t_gif));
	if (result == NULL)
	{
		write(1, "fuck mem alloc\n", 15);
		exit(0);
	}
	result->next = NULL;
	return (result);
}

/*
** ______________________________________________________________INITIALIZATION
*/

void			init_gif(t_gif *gif)
{
	t_gif		*iterator;

	gif->frame = frame_1;
	gif->next = alloc();
	iterator = gif;
	iterator->next->frame = iterator->frame(GET_NEXT);
	iterator = iterator->next;
	while (iterator->frame != gif->frame)
	{
		iterator->next = alloc();
		iterator->next->frame = iterator->frame(GET_NEXT);
		iterator = iterator->next;
	}
	iterator->next = gif->next;

}

/*
** ____________________________________________________________________PRITNING
*/

void			rainbow(int *rgb, int *change, int *sign)
{
	printf("\e[1;38;2;%i;%i;%im", rgb[R], rgb[G], rgb[B]);
	if (rgb[*change] + *sign * SPEED > 255 || rgb[*change] + *sign * SPEED < 0)
	{
		*change = (*change + 2) % 3;
		*sign *= -1;
	}
	rgb[*change] += *sign * SPEED;
}

/*
** _______________________________________________________________MAIN FUNCTION
*/

int				main(void)
{
	t_gif		*gif;
	int			rgb[3] = {255, 0, 0};
	int			sign = 1;
	int			change = 0;

	change = 1;
	gif = alloc();
	init_gif(gif);
	printf("\e[8;50;120t");
	while (1)
	{
		system("tput clear");
		rainbow(rgb, &change, &sign);
		gif->frame(PRINT);
		gif = gif->next;
   		usleep(480000);
	}
	return 0;
}
